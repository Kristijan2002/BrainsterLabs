const devCards = [
  {
    title: "Академија за програмирање",
    projectName: "Име на проектот стои овде <br> во две линии",
    description:
      "Краток опис во кој студентите ќе можат да опишат за што се работи во проектот.",
    date: "Април-Октомври 2023",
    img: "./images/dev-card-1.webp",
  },

  {
    title: "Академија за програмирање",
    projectName: "Име на проектот стои овде <br> во две линии",
    description:
      "Краток опис во кој студентите ќе можат да опишат за што се работи во проектот.",
    date: "Април-Октомври 2023",
    img: "./images/dev-card-2.webp",
  },

  {
    title: "Академија за програмирање",
    projectName: "Име на проектот стои овде <br> во две линии",
    description:
      "Краток опис во кој студентите ќе можат да опишат за што се работи во проектот.",
    date: "Април-Октомври 2023",
    img: "./images/dev-card-3.webp",
  },
  {
    title: "Академија за програмирање",
    projectName: "Име на проектот стои овде <br> во две линии",
    description:
      "Краток опис во кој студентите ќе можат да опишат за што се работи во проектот.",
    date: "Април-Октомври 2023",
    img: "./images/dev-card-8.webp",
  },
  {
    title: "Академија за програмирање",
    projectName: "Име на проектот стои овде <br> во две линии",
    description:
      "Краток опис во кој студентите ќе можат да опишат за што се работи во проектот.",
    date: "Април-Октомври 2023",
    img: "./images/dev-card-2.webp",
  },
  {
    title: "Академија за програмирање",
    projectName: "Име на проектот стои овде <br> во две линии",
    description:
      "Краток опис во кој студентите ќе можат да опишат за што се работи во проектот.",
    date: "Април-Октомври 2023",
    img: "./images/dev-card-3.webp",
  },
  {
    title: "Академија за програмирање",
    projectName: "Име на проектот стои овде <br> во две линии",
    description:
      "Краток опис во кој студентите ќе можат да опишат за што се работи во проектот.",
    date: "Април-Октомври 2023",
    img: "./images/dev-card-7.webp",
  },
  {
    title: "Академија за програмирање",
    projectName: "Име на проектот стои овде <br> во две линии",
    description:
      "Краток опис во кој студентите ќе можат да опишат за што се работи во проектот.",
    date: "Април-Октомври 2023",
    img: "./images/dev-card-8.webp",
  },
  {
    title: "Академија за програмирање",
    projectName: "Име на проектот стои овде <br> во две линии",
    description:
      "Краток опис во кој студентите ќе можат да опишат за што се работи во проектот.",
    date: "Април-Октомври 2023",
    img: "./images/dev-card-9.webp",
  },
  {
    title: "Академија за програмирање",
    projectName: "Име на проектот стои овде <br> во две линии",
    description:
      "Краток опис во кој студентите ќе можат да опишат за што се работи во проектот.",
    date: "Април-Октомври 2023",
    img: "./images/dev-card-1.webp",
  },
];
const marketingCards = [
  {
    title: "Академија за маркетинг",
    projectName: "Име на проектот стои овде <br> во две линии",
    description:
      "Краток опис во кој студентите ќе можат да опишат за што се работи во проектот.",
    date: "Април-Октомври 2023",
    img: "./images/marketing-card-1.webp",
  },

  {
    title: "Академија за маркетинг",
    projectName: "Име на проектот стои овде <br> во две линии",
    description:
      "Краток опис во кој студентите ќе можат да опишат за што се работи во проектот.",
    date: "Април-Октомври 2023",
    img: "./images/marketing-card-4.webp",
  },
  {
    title: "Академија за маркетинг",
    projectName: "Име на проектот стои овде <br> во две линии",
    description:
      "Краток опис во кој студентите ќе можат да опишат за што се работи во проектот.",
    date: "Април-Октомври 2023",
    img: "./images/marketing-card-3.webp",
  },
  {
    title: "Академија за маркетинг",
    projectName: "Име на проектот стои овде <br> во две линии",
    description:
      "Краток опис во кој студентите ќе можат да опишат за што се работи во проектот.",
    date: "Април-Октомври 2023",
    img: "./images/marketing-card-4.webp",
  },
  {
    title: "Академија за маркетинг",
    projectName: "Име на проектот стои овде <br> во две линии",
    description:
      "Краток опис во кој студентите ќе можат да опишат за што се работи во проектот.",
    date: "Април-Октомври 2023",
    img: "./images/marketing-card-5.webp",
  },
  {
    title: "Академија за маркетинг",
    projectName: "Име на проектот стои овде <br> во две линии",
    description:
      "Краток опис во кој студентите ќе можат да опишат за што се работи во проектот.",
    date: "Април-Октомври 2023",
    img: "./images/marketing-card-1.webp",
  },
];
const designCards = [
  {
    title: "Академија за дизајн",
    projectName: "Име на проектот стои овде <br> во две линии",
    description:
      "Краток опис во кој студентите ќе можат да опишат за што се работи во проектот.",
    date: "Април-Октомври 2023",
    img: "./images/design-card-1.webp",
  },
  {
    title: "Академија за дизајн",
    projectName: "Име на проектот стои овде <br> во две линии",
    description:
      "Краток опис во кој студентите ќе можат да опишат за што се работи во проектот.",
    date: "Април-Октомври 2023",
    img: "./images/design-card-1.webp",
  },
  {
    title: "Академија за дизајн",
    projectName: "Име на проектот стои овде <br> во две линии",
    description:
      "Краток опис во кој студентите ќе можат да опишат за што се работи во проектот.",
    date: "Април-Октомври 2023",
    img: "./images/design-card-1.webp",
  },
  {
    title: "Академија за дизајн",
    projectName: "Име на проектот стои овде <br> во две линии",
    description:
      "Краток опис во кој студентите ќе можат да опишат за што се работи во проектот.",
    date: "Април-Октомври 2023",
    img: "./images/design-card-1.webp",
  },
];
let cardsToShow;
//Event listener for developer checkbox
document.querySelector("#dev").addEventListener("change", function (e) {
  cardsToShow = devCards; //Set cardsToShow to devCards
  //Calling functions
  handlingCheckbox(e);
  handleWindowResizeAndCheckbox(e);
});

//Event listener for design checkbox
document.querySelector("#design").addEventListener("change", function (e) {
  cardsToShow = designCards;
  handlingCheckbox(e);
  handleWindowResizeAndCheckbox(e);
});

//Event listener for marketing checkbox
document.querySelector("#marketing").addEventListener("change", function (e) {
  cardsToShow = marketingCards;
  handlingCheckbox(e);
  handleWindowResizeAndCheckbox(e);
});

//Event listener for window load event
window.addEventListener("load", function () {
  cardsToShow = devCards.concat(marketingCards).concat(designCards); // Set cardsToShow to the concatenation of devCards, marketingCards, and designCards
  showCards(cardsToShow); //Call showCards function with cardsToShow as the argument

  //Hide the icons and set background colors
  document.querySelector(".dev-icon").style.visibility = "hidden";
  document.querySelector(".design-icon").style.visibility = "hidden";
  document.querySelector(".m-icon").style.visibility = "hidden";
  document.querySelector(".marketing").style.backgroundColor = "#302f38";
  document.querySelector(".dev").style.backgroundColor = "#302f38";
  document.querySelector(".design").style.backgroundColor = "#302f38";
});

//Function to hendle checkbox changes
function handlingCheckbox(e) {
  let checkboxA = document.querySelector("#marketing").checked;
  let checkboxB = document.querySelector("#dev").checked;
  let checkboxC = document.querySelector("#design").checked;
  const iconMarketing = document.querySelector(".m-icon");
  const iconDev = document.querySelector(".dev-icon");
  const iconDesign = document.querySelector(".design-icon");
  const checkboxMarketing = document.querySelector(".marketing");
  const checkboxDev = document.querySelector(".dev");
  const checkboxDesign = document.querySelector(".design");
  const target = e.target.id;

  if (!checkboxA && !checkboxB && !checkboxC) {
    //If no checkboxes are checked
    cardsToShow = devCards.concat(marketingCards).concat(designCards);
    checkboxMarketing.style.backgroundColor = "#302f38";
    checkboxDev.style.backgroundColor = "#302f38";
    checkboxDesign.style.backgroundColor = "#302f38";
    iconMarketing.style.visibility = "hidden";
    iconDev.style.visibility = "hidden";
    iconDesign.style.visibility = "hidden";
  } else if (target === "marketing") {
    //If marketing checkbox is checked
    document.querySelector("#dev").checked = false;
    document.querySelector("#design").checked = false;
    checkboxMarketing.style.backgroundColor = "#ff1300";
    checkboxDev.style.backgroundColor = "#302f38";
    checkboxDesign.style.backgroundColor = "#302f38";
    iconMarketing.style.visibility = "visible";
    iconDev.style.visibility = "hidden";
    iconDesign.style.visibility = "hidden";
  } else if (target === "dev") {
    //If developer checkbox are checked
    document.querySelector("#marketing").checked = false;
    document.querySelector("#design").checked = false;
    checkboxMarketing.style.backgroundColor = "#302f38";
    checkboxDev.style.backgroundColor = "#ff1300";
    checkboxDesign.style.backgroundColor = "#302f38";
    iconMarketing.style.visibility = "hidden";
    iconDev.style.visibility = "visible";
    iconDesign.style.visibility = "hidden";
  } else if (target === "design") {
    //If design checkbox is checked
    document.querySelector("#marketing").checked = false;
    document.querySelector("#dev").checked = false;
    checkboxMarketing.style.backgroundColor = "#302f38";
    checkboxDev.style.backgroundColor = "#302f38";
    checkboxDesign.style.backgroundColor = "#ff1300";
    iconMarketing.style.visibility = "hidden";
    iconDev.style.visibility = "hidden";
    iconDesign.style.visibility = "visible";
  }
}

//Function to show cards
function showCards(array) {
  const cards = array.map((card) => {
    const content = `<div class="col-12 col-sm-6 col-md-4 zoom">
    <div class="card test">
            <img src="${card.img}" class="card-img-top" alt="...">
            <div class="card-body">
            <p class="h6 card-title custom-bg-primary custom-title-size p-2">${card.title}</p>
                <p class="h5 fw-bold">${card.projectName}</p>
                <p class="card-text">${card.description}</p>
                <p class="fw-bold">${card.date}</p>
                <a href="#" class="btn custom-bg-secondary custom-btn-hover text-light float-end">Дознај повеќе</a>
            </div>
        </div>
    </div>`;

    return content;
  });
  document.querySelector(".showHere").innerHTML = cards.join(" ");
}
//Pagination
let startIndex = 0;
let endIndex = 6;
const loadMoreButton = document.querySelector("#loadMore");

loadMoreButton.addEventListener("click", loadMoreCards);

function loadMoreCards() {
  startIndex += 0;
  endIndex += 6;
  showCards(cardsToShow.slice(startIndex + 0, endIndex));
  if (endIndex >= cardsToShow.length) {
    loadMoreButton.className = "d-none"; // Hide the "Load More" button if all cards have been displayed
  }
}

// Event listener for window resize event
window.addEventListener("resize", handleWindowResizeAndCheckbox);

// Check if it's mobile and call handleWindowResizeAndCheckbox function on load
const isMobile = window.innerWidth < 426;
if (isMobile === true) {
  window.addEventListener("load", handleWindowResizeAndCheckbox);
}

// Function to handle window resize and checkbox
function handleWindowResizeAndCheckbox(e) {
  startIndex = 0;
  endIndex = 6;
  const isMobile = window.innerWidth < 426; // Adjust the breakpoint as needed
  if (isMobile) {
    if (cardsToShow.length > 6) {
      loadMoreButton.className = "d-block";
    } else {
      loadMoreButton.className = "d-none";
    }
    showCards(cardsToShow.slice(startIndex, endIndex));
  } else {
    showCards(cardsToShow);
  }
}

//Event listener for DOMContentLoaded event
window.addEventListener("DOMContentLoaded", function () {
  let textElement = document.querySelector(".text-animation");
  let text = textElement.textContent;
  textElement.textContent = "";

  //Animation for text element
  for (let i = 0; i < text.length; i++) {
    (function (index) {
      setTimeout(function () {
        textElement.textContent += text[index];
      }, 100 * index);
    })(i);
  }
});
